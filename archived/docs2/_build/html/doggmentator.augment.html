

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>doggmentator.augment package &mdash; Doggmentator  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="doggmentator.trainer package" href="doggmentator.trainer.html" />
    <link rel="prev" title="doggmentator package" href="doggmentator.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Doggmentator
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="doggmentator.html">doggmentator package</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Doggmentator</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">&lt;no title&gt;</a> &raquo;</li>
        
          <li><a href="doggmentator.html">doggmentator package</a> &raquo;</li>
        
      <li>doggmentator.augment package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/doggmentator.augment.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="doggmentator-augment-package">
<h1>doggmentator.augment package<a class="headerlink" href="#doggmentator-augment-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-doggmentator.augment.augment_squad">
<span id="doggmentator-augment-augment-squad-module"></span><h2>doggmentator.augment.augment_squad module<a class="headerlink" href="#module-doggmentator.augment.augment_squad" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="doggmentator.augment.augment_squad.SQuADDataset">
<em class="property">class </em><code class="sig-prename descclassname">doggmentator.augment.augment_squad.</code><code class="sig-name descname">SQuADDataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">raw_examples</span><span class="p">:</span> <span class="n">Dict</span></em>, <em class="sig-param"><span class="n">custom_importance_scores</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_training</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">sample_ratio</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">4.0</span></em>, <em class="sig-param"><span class="n">num_replacements</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">sampling_k</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">3</span></em>, <em class="sig-param"><span class="n">sampling_strategy</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'topK'</span></em>, <em class="sig-param"><span class="n">p_replace</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">p_dropword</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">p_misspelling</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">save_freq</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">100</span></em>, <em class="sig-param"><span class="n">from_checkpoint</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">out_prefix</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">dataset</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#doggmentator.augment.augment_squad.SQuADDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.utils.data.dataset.Dataset</span></code></p>
<dl class="py method">
<dt id="doggmentator.augment.augment_squad.SQuADDataset.generate">
<code class="sig-name descname">generate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#doggmentator.augment.augment_squad.SQuADDataset.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate perturbations for the raw SQuAD-like examples
:param term: The input term for which we are looking for synonyms.
:type term: str
:param num_syns: The number of synonyms for the input term. The number of synonyms should be greater than 1. The default value is 10.
:type num_syns: Optional(int)
:param similarity_thre: The similarity threshold. The function returns the synonyms with higher similarity than the threshold.
:type similarity_thre: Optional(float)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">augment_squad</span> <span class="kn">import</span> <span class="n">SQuADDataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;support/squad-dev-v1.1.json&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">squad_dev_examples</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">SQuADDataset</span><span class="p">(</span><span class="n">squad_dev_examples</span><span class="p">,</span> <span class="n">sample_ratio</span> <span class="o">=</span> <span class="mf">0.0001</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">dataset</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="doggmentator.augment.augment_squad.format_squad">
<code class="sig-prename descclassname">doggmentator.augment.augment_squad.</code><code class="sig-name descname">format_squad</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">examples</span><span class="p">:</span> <span class="n">Dict</span></em>, <em class="sig-param"><span class="n">title_map</span><span class="p">:</span> <span class="n">Dict</span></em>, <em class="sig-param"><span class="n">context_map</span><span class="p">:</span> <span class="n">Dict</span></em>, <em class="sig-param"><span class="n">version</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'1.1'</span></em><span class="sig-paren">)</span> &#x2192; Dict<a class="headerlink" href="#doggmentator.augment.augment_squad.format_squad" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a flat list of dicts to nested SQuAD format</p>
</dd></dl>

</div>
<div class="section" id="module-doggmentator.augment.generators">
<span id="doggmentator-augment-generators-module"></span><h2>doggmentator.augment.generators module<a class="headerlink" href="#module-doggmentator.augment.generators" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="doggmentator.augment.generators.BaseGenerator">
<em class="property">class </em><code class="sig-prename descclassname">doggmentator.augment.generators.</code><code class="sig-name descname">BaseGenerator</code><a class="headerlink" href="#doggmentator.augment.generators.BaseGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A base class for generating token-level perturbations
…
.. method:: _check_sent(sent)</p>
<blockquote>
<div><p>Validate and sanitize an input sentence</p>
</div></blockquote>
<dl class="py method">
<dt id="doggmentator.augment.generators.BaseGenerator._cosine_similarity">
<code class="sig-name descname">_cosine_similarity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v1</span></em>, <em class="sig-param"><span class="n">v2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#doggmentator.augment.generators.BaseGenerator._cosine_similarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the cosine similarity between two vectors</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="doggmentator.augment.generators.MLMSynonymReplace">
<em class="property">class </em><code class="sig-prename descclassname">doggmentator.augment.generators.</code><code class="sig-name descname">MLMSynonymReplace</code><a class="headerlink" href="#doggmentator.augment.generators.MLMSynonymReplace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#doggmentator.augment.generators.BaseGenerator" title="doggmentator.augment.generators.BaseGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">doggmentator.augment.generators.BaseGenerator</span></code></a></p>
<p>A class to replace synonyms using a masked language model (MLM)
…
.. method:: generate(term, num_target, toks, token_idx)</p>
<blockquote>
<div><p>Generate misspellings for an input term</p>
</div></blockquote>
<dl class="py method">
<dt id="doggmentator.augment.generators.MLMSynonymReplace.generate">
<code class="sig-name descname">generate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">term</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">num_target</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; List<a class="headerlink" href="#doggmentator.augment.generators.MLMSynonymReplace.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a certain number of synonyms using an MLM.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>term</strong> (<em>str</em>) – The input term for which we are looking for misspellings.</p></li>
<li><p><strong>num_target</strong> (<em>int</em>) – The target number of synonyms to generate for the input term. The number should be greater than 0</p></li>
<li><p><strong>kwargs</strong> (<em>Dict</em>) – <p>A set of generator-specific arguments
- toks : List</p>
<blockquote>
<div><p>The tokenized source string containing the target term.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>token_idx<span class="classifier">int</span></dt><dd><p>The index of the target string in the tokenized source string</p>
</dd>
</dl>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a list of synonyms if any. Otherwise an empty list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[str]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">generators</span> <span class="kn">import</span> <span class="n">MLMSynonymReplace</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mr</span> <span class="o">=</span> <span class="n">MLMSynonymReplace</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">term</span> <span class="o">=</span> <span class="s2">&quot;small&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">toks</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;was&#39;</span><span class="p">,</span> <span class="s1">&#39;born&#39;</span><span class="p">,</span> <span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;small&#39;</span><span class="p">,</span> <span class="s1">&#39;town&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">token_idx</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_target</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mr</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">term</span><span class="o">=</span><span class="n">term</span><span class="p">,</span> <span class="n">num_target</span><span class="o">=</span><span class="n">num_target</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;toks&#39;</span><span class="p">:</span><span class="n">toks</span><span class="p">,</span> <span class="s1">&#39;token_idx&#39;</span><span class="p">:</span><span class="n">token_idx</span><span class="p">})</span>
<span class="go">[&#39;little&#39;, &#39;mining&#39;]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="doggmentator.augment.generators.MisspReplace">
<em class="property">class </em><code class="sig-prename descclassname">doggmentator.augment.generators.</code><code class="sig-name descname">MisspReplace</code><a class="headerlink" href="#doggmentator.augment.generators.MisspReplace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#doggmentator.augment.generators.BaseGenerator" title="doggmentator.augment.generators.BaseGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">doggmentator.augment.generators.BaseGenerator</span></code></a></p>
<p>A class to replace commonly misspelled terms
…
.. method:: generate(term, num_target)</p>
<blockquote>
<div><p>Generate misspellings for an input term</p>
</div></blockquote>
<dl class="py method">
<dt id="doggmentator.augment.generators.MisspReplace.generate">
<code class="sig-name descname">generate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">term</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">num_target</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; List<a class="headerlink" href="#doggmentator.augment.generators.MisspReplace.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a certain number of misspellings for the input term.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>term</strong> (<em>str</em>) – The input term for which we are looking for misspellings.</p></li>
<li><p><strong>num_target</strong> (<em>int</em>) – The target number of misspellings to generate for the input term. The number of misspelling should be greater than 0</p></li>
<li><p><strong>kwargs</strong> (<em>Dict</em>) – A set of generator-specific arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a list of misspellings if any. Otherwise an empty list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[str]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">generators</span> <span class="kn">import</span> <span class="n">MisspReplace</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mr</span> <span class="o">=</span> <span class="n">MisspReplace</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">term</span> <span class="o">=</span> <span class="s2">&quot;worried&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_target</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mr</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">term</span><span class="o">=</span><span class="n">term</span><span class="p">,</span> <span class="n">num_target</span><span class="o">=</span><span class="n">num_target</span><span class="p">)</span>
<span class="go">[&#39;woried&#39;, &#39;worred&#39;]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="doggmentator.augment.generators.SynonymReplace">
<em class="property">class </em><code class="sig-prename descclassname">doggmentator.augment.generators.</code><code class="sig-name descname">SynonymReplace</code><a class="headerlink" href="#doggmentator.augment.generators.SynonymReplace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#doggmentator.augment.generators.BaseGenerator" title="doggmentator.augment.generators.BaseGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">doggmentator.augment.generators.BaseGenerator</span></code></a></p>
<p>A class to generate synonyms for an input term using word2vec
…
.. method:: generate(term, num_targets, {‘similarity_thre’:0.5})</p>
<blockquote>
<div><p>Generate synonyms for an input term</p>
</div></blockquote>
<dl class="py method">
<dt id="doggmentator.augment.generators.SynonymReplace.generate">
<code class="sig-name descname">generate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">term</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">num_target</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; List<a class="headerlink" href="#doggmentator.augment.generators.SynonymReplace.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a certain number of synonyms using a word2vec model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>term</strong> (<em>str</em>) – The input term for which we are looking for misspellings.</p></li>
<li><p><strong>num_target</strong> (<em>int</em>) – The target number of synonyms to generate for the input term. The number should be greater than 0</p></li>
<li><p><strong>kwargs</strong> (<em>Optional</em><em>(</em><em>Dict</em><em>)</em>) – <p>A set of generator-specific arguments
- similarity_thre : Optional(float)</p>
<blockquote>
<div><p>Threshold of cosine similarity values in generated terms. The default value is 0.7</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a list of synonyms if any. Otherwise an empty list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[str]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">generators</span> <span class="kn">import</span> <span class="n">SynonymReplace</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mr</span> <span class="o">=</span> <span class="n">SynonymReplace</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">term</span> <span class="o">=</span> <span class="s2">&quot;worried&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_target</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">similarity_thre</span> <span class="o">=</span> <span class="mf">0.7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sr</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">term</span><span class="p">,</span> <span class="n">num_target</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;similarity_thre&#39;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">})</span>
<span class="go">[&#39;apprehensive&#39;, &#39;preoccupied&#39;, &#39;worry&#39;]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-doggmentator.augment.term_replacement">
<span id="doggmentator-augment-term-replacement-module"></span><h2>doggmentator.augment.term_replacement module<a class="headerlink" href="#module-doggmentator.augment.term_replacement" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="doggmentator.augment.term_replacement.DropTerms">
<em class="property">class </em><code class="sig-prename descclassname">doggmentator.augment.term_replacement.</code><code class="sig-name descname">DropTerms</code><a class="headerlink" href="#doggmentator.augment.term_replacement.DropTerms" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to generate sentence perturbations by dropping target terms
…
.. method:: drop_terms(sentence, num_terms, num_output_sents)</p>
<blockquote>
<div><p>Generate synonyms for an input term</p>
</div></blockquote>
<dl class="py method">
<dt id="doggmentator.augment.term_replacement.DropTerms.drop_terms">
<code class="sig-name descname">drop_terms</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sentence</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">num_terms</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">num_output_sents</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">1</span></em><span class="sig-paren">)</span> &#x2192; List<a class="headerlink" href="#doggmentator.augment.term_replacement.DropTerms.drop_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a certain number of sentence perturbations by dropping select terms</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sentence</strong> (<em>str</em>) – The input sentence to be perturbed.</p></li>
<li><p><strong>num_terms</strong> (<em>Optional</em><em>(</em><em>int</em><em>)</em>) – The number of terms to target in the original sentence, with this perturbation. The number should be greater than 0. The default value is 1.</p></li>
<li><p><strong>num_output_sents</strong> (<em>Optional</em><em>(</em><em>int</em><em>)</em>) – The number of perturbed sentences to produce. The number should be greater than 0. The default is 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a list of perturbed sentences for the input sentence.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[str]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">term_replacement</span> <span class="kn">import</span> <span class="n">DropTerms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">DropTerms</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">term</span> <span class="o">=</span> <span class="s2">&quot;I was born in a small town&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_terms</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_output_sents</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">term</span><span class="p">,</span> <span class="n">num_terms</span><span class="p">,</span> <span class="n">num_output_sents</span><span class="p">)</span>
<span class="go">[&#39;I born in a small town&#39;]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="doggmentator.augment.term_replacement.ReplaceTerms">
<em class="property">class </em><code class="sig-prename descclassname">doggmentator.augment.term_replacement.</code><code class="sig-name descname">ReplaceTerms</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rep_type</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'synonym'</span></em>, <em class="sig-param"><span class="n">use_ner</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#doggmentator.augment.term_replacement.ReplaceTerms" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to generate sentence perturbations by replacement
…
.. method:: replace_terms(sentence, importance_scores, num_replacements, num_output_sents, sampling_strategy, sampling_k)</p>
<blockquote>
<div><p>Generate synonyms for an input term</p>
</div></blockquote>
<dl class="py method">
<dt id="doggmentator.augment.term_replacement.ReplaceTerms.replace_terms">
<code class="sig-name descname">replace_terms</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sentence</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">importance_scores</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_replacements</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">num_output_sents</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">sampling_strategy</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'random'</span></em>, <em class="sig-param"><span class="n">sampling_k</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; List<a class="headerlink" href="#doggmentator.augment.term_replacement.ReplaceTerms.replace_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a certain number of sentence perturbations by replacement using either misspelling or synonyms</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sentence</strong> (<em>str</em>) – The input sentence to be perturbed.</p></li>
<li><p><strong>importance_scores</strong> (<em>Optional</em><em>(</em><em>List</em><em>)</em>) – List of tuples defining a weight for each term in the tokenized sentence. These weights are used during sampling to influence perturnation probabilities. If None, uniform sampling is used by default.</p></li>
<li><p><strong>num_replacements</strong> (<em>Optional</em><em>(</em><em>int</em><em>)</em>) – Target number of terms to replace in the original sentence. The number is chosen randomly using the target as an upper bound, and lower bound of 1. The default is 1.</p></li>
<li><p><strong>num_output_sents</strong> (<em>Optional</em><em>(</em><em>int</em><em>)</em>) – Target number of perturbed sentences to generate based on the original sentence. The default is 1.</p></li>
<li><p><strong>sampling_strategy</strong> (<em>Optional</em><em>(</em><em>str</em><em>)</em>) – Strategy used to sample terms to perturb in the original sentence. The default is random. If importance_scores is given, then sampling_strategy may be <cite>topK</cite> or <cite>bottomK</cite>, in which case the importance_scores (or inverted scores) vector is used for weighted sampling.</p></li>
<li><p><strong>sampling_k</strong> (<em>Optional</em><em>(</em><em>int</em><em>)</em>) – The number of terms in the importance score vector to include in topK or bottomK sampling. This parameter is not used by the default sampling_strategy, <cite>random</cite> sampling.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a list of perturbed sentences for the input sentence.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[str]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">term_replacement</span> <span class="kn">import</span> <span class="n">DropTerms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">DropTerms</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">term</span> <span class="o">=</span> <span class="s2">&quot;I was born in a small town&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_terms</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_output_sents</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">term</span><span class="p">,</span> <span class="n">num_terms</span><span class="p">,</span> <span class="n">num_output_sents</span><span class="p">)</span>
<span class="go">[&#39;I born in a small town&#39;]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="doggmentator.augment.term_replacement.get_scores">
<code class="sig-prename descclassname">doggmentator.augment.term_replacement.</code><code class="sig-name descname">get_scores</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tokens</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">mode</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'random'</span></em>, <em class="sig-param"><span class="n">mode_k</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scores</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Tuple<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Tuple<span class="p">]</span><a class="headerlink" href="#doggmentator.augment.term_replacement.get_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize and sanitize importance scores</p>
</dd></dl>

<dl class="py function">
<dt id="doggmentator.augment.term_replacement.validate_inputs">
<code class="sig-prename descclassname">doggmentator.augment.term_replacement.</code><code class="sig-name descname">validate_inputs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_replacements</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">num_output_sents</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">sampling_strategy</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; List<a class="headerlink" href="#doggmentator.augment.term_replacement.validate_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensures valid input parameters</p>
</dd></dl>

</div>
<div class="section" id="module-doggmentator.augment">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-doggmentator.augment" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="doggmentator.trainer.html" class="btn btn-neutral float-right" title="doggmentator.trainer package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="doggmentator.html" class="btn btn-neutral float-left" title="doggmentator package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Aaron Sisto, Senzeyu Zhang, Mostafa Mirshekari, and Abijith Vijayendra

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>